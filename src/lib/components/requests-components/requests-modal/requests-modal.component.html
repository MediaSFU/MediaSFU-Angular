<!-- Custom template override -->
<ng-container *ngIf="isRequestsModalVisible && customTemplate">
  <ng-container *ngTemplateOutlet="customTemplate; context: {
    $implicit: {
      isRequestsModalVisible,
      requestCounter: requestCounter_s,
      requestList: requestList_s,
      position,
      backgroundColor,
      roomName,
      socket,
      onRequestClose,
      onRequestFilterChange,
      handleFilterChange: handleFilterChange.bind(this),
      handleModalClose: handleModalClose.bind(this)
    }
  }"></ng-container>
</ng-container>

<!-- Default template -->
<div *ngIf="isRequestsModalVisible && !customTemplate"
     class="modal-container"
     [ngStyle]="getCombinedOverlayStyle()">
  <div class="modal-content"
       [ngStyle]="getCombinedContentStyle()">
    <div class="modal-header">
      <div>
        Requests <span class="badge text-dark">{{ requestCounter_s }}</span>
      </div>
      <div class="close-icon" (click)="handleModalClose()">
        <fa-icon [icon]="faTimes" size="lg"></fa-icon>
      </div>
    </div>
    <hr class="separator" />
    <div class="modal-body">
      <input type="text" class="filter-input" placeholder="Search ..." (input)="handleFilterChange($event)">
      <div class="request-list">
        <ng-container *ngFor="let requestItem of requestList_s; let i = index">
          <app-render-request-component
            [request]="requestItem"
            [requestList]="requestList"
            [roomName]="roomName"
            [socket]="socket"
            [onRequestItemPress]="onRequestItemPress"
            [updateRequestList]="updateRequestList">
          </app-render-request-component>
        </ng-container>
      </div>
    </div>
  </div>
</div>
