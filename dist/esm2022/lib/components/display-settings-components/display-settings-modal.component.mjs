import { Component, Input } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FontAwesomeModule } from '@fortawesome/angular-fontawesome';
import { FormsModule } from '@angular/forms';
import { faTimes } from '@fortawesome/free-solid-svg-icons';
import * as i0 from "@angular/core";
import * as i1 from "../../methods/display-settings-methods/modify-display-settings.service";
import * as i2 from "@angular/common";
import * as i3 from "@fortawesome/angular-fontawesome";
import * as i4 from "@angular/forms";
/**
 * DisplaySettingsModal component is a modal dialog for managing display settings in a meeting.
 *
 * @component
 * @selector app-display-settings-modal
 * @standalone true
 * @imports [CommonModule, FontAwesomeModule, FormsModule]
 *
 * @example
 * ```html
 * <app-display-settings-modal
 *   [isDisplaySettingsModalVisible]="true"
 *   [onDisplaySettingsClose]="closeModal"
 *   [onModifyDisplaySettings]="saveSettings"
 *   [parameters]="displaySettingsParams"
 *   position="topRight"
 *   backgroundColor="#83c0e9"
 * ></app-display-settings-modal>
 * ```
 *
 * @input {boolean} isDisplaySettingsModalVisible - Determines if the modal is visible.
 * @input {() => void} onDisplaySettingsClose - Callback to close the modal.
 * @input {(params: any) => void} onModifyDisplaySettings - Callback to modify display settings.
 * @input {DisplaySettingsModalParameters} parameters - Input parameters for modal settings.
 * @input {string} position - Modal's screen position, default is 'topRight'.
 * @input {string} backgroundColor - Background color of the modal, default is '#83c0e9'.
 *
 * @property {IconDefinition} faTimes - FontAwesome icon for closing the modal.
 *
 * @property {string} meetingDisplayTypeState - State variable for meeting display type.
 * @property {boolean} autoWaveState - State variable for auto wave setting.
 * @property {boolean} forceFullDisplayState - State variable for force full display setting.
 * @property {boolean} meetingVideoOptimizedState - State variable for video optimized setting.
 *
 * @constructor
 * @param {ModifyDisplaySettings} modifyDisplaySettingsService - Service to handle display settings modifications.
 *
 * @method ngOnInit - Initializes component state based on input parameters.
 * @method handleSaveSettings - Triggers the modification of display settings using `onModifyDisplaySettings`.
 */
export class DisplaySettingsModal {
    modifyDisplaySettingsService;
    isDisplaySettingsModalVisible = false;
    onDisplaySettingsClose;
    onModifyDisplaySettings;
    parameters;
    position = 'topRight';
    backgroundColor = '#83c0e9';
    faTimes = faTimes;
    meetingDisplayTypeState;
    autoWaveState = false;
    forceFullDisplayState = false;
    meetingVideoOptimizedState = false;
    constructor(modifyDisplaySettingsService) {
        this.modifyDisplaySettingsService = modifyDisplaySettingsService;
    }
    ngOnInit() {
        this.meetingDisplayTypeState = this.parameters.meetingDisplayType;
        this.autoWaveState = this.parameters.autoWave;
        this.forceFullDisplayState = this.parameters.forceFullDisplay;
        this.meetingVideoOptimizedState = this.parameters.meetingVideoOptimized;
        if (!this.onModifyDisplaySettings) {
            this.onModifyDisplaySettings = this.modifyDisplaySettingsService.modifyDisplaySettings.bind(this.modifyDisplaySettingsService);
        }
    }
    handleSaveSettings = async () => {
        await this.onModifyDisplaySettings({
            parameters: {
                ...this.parameters,
                meetingDisplayType: this.meetingDisplayTypeState,
                autoWave: this.autoWaveState,
                forceFullDisplay: this.forceFullDisplayState,
                meetingVideoOptimized: this.meetingVideoOptimizedState,
            },
        });
    };
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.8", ngImport: i0, type: DisplaySettingsModal, deps: [{ token: i1.ModifyDisplaySettings }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.8", type: DisplaySettingsModal, isStandalone: true, selector: "app-display-settings-modal", inputs: { isDisplaySettingsModalVisible: "isDisplaySettingsModalVisible", onDisplaySettingsClose: "onDisplaySettingsClose", onModifyDisplaySettings: "onModifyDisplaySettings", parameters: "parameters", position: "position", backgroundColor: "backgroundColor" }, ngImport: i0, template: "<div *ngIf=\"isDisplaySettingsModalVisible\" class=\"modal-container\">\r\n  <div class=\"modal-content\" [ngStyle]=\"{ 'background-color': backgroundColor }\">\r\n    <div class=\"modal-header\">\r\n      <h2>Display Settings</h2>\r\n      <div class=\"btn-close-media-settings\" (click)=\"onDisplaySettingsClose()\">\r\n        <fa-icon [icon]=\"faTimes\" size=\"xl\"></fa-icon>\r\n      </div>\r\n    </div>\r\n    <hr class=\"modal-divider\" />\r\n    <div class=\"modal-body\">\r\n      <div class=\"setting-group\">\r\n        <label>Display Option:</label>\r\n        <select [(ngModel)]=\"meetingDisplayTypeState\" class=\"select-control\">\r\n          <option value=\"video\">Video Participants Only</option>\r\n          <option value=\"media\">Media Participants Only</option>\r\n          <option value=\"all\">Show All Participants</option>\r\n        </select>\r\n      </div>\r\n      <hr class=\"modal-divider\" />\r\n      <div class=\"setting-group\">\r\n        <div class=\"setting-toggle\">\r\n          <label>Display Audiographs</label>\r\n          <button (click)=\"autoWaveState = !autoWaveState\" [ngClass]=\"{ 'active': autoWaveState }\">\r\n            <span class=\"toggle-icon\">{{ autoWaveState ? '&#10003;' : '&#10007;' }}</span>\r\n          </button>\r\n        </div>\r\n        <hr class=\"modal-divider\" />\r\n        <div class=\"setting-toggle\">\r\n          <label>Force Full Display</label>\r\n          <button (click)=\"forceFullDisplayState = !forceFullDisplayState\" [ngClass]=\"{ 'active': forceFullDisplayState }\">\r\n            <span class=\"toggle-icon\">{{ forceFullDisplayState ? '&#10003;' : '&#10007;' }}</span>\r\n          </button>\r\n        </div>\r\n        <hr class=\"modal-divider\" />\r\n        <div class=\"setting-toggle\">\r\n          <label>Force Video Participants</label>\r\n          <button (click)=\"meetingVideoOptimizedState = !meetingVideoOptimizedState\" [ngClass]=\"{ 'active': meetingVideoOptimizedState }\">\r\n            <span class=\"toggle-icon\">{{ meetingVideoOptimizedState ? '&#10003;' : '&#10007;' }}</span>\r\n          </button>\r\n        </div>\r\n        <hr class=\"modal-divider\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button class=\"save-button\" (click)=\"handleSaveSettings()\">Save</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".modal-container{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:block;z-index:999}.modal-content{position:fixed;border-radius:10px;padding:10px;width:80vw;max-width:350px;max-height:65%;overflow-y:auto;top:10px;right:10px}.modal-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:15px}.modal-divider{height:1px;background-color:#000;margin:5px 0}.modal-body{flex:1}.setting-group{margin-bottom:10px}.setting-toggle{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:10px}.select-control{font-size:medium;padding:12px 30px 12px 10px;border:1px solid gray;border-radius:4px;color:#000;background-color:#fff}.toggle-icon{font-size:large;font-weight:bolder}.active{color:green}.inactive{color:red}.modal-footer{margin-top:10px;display:flex;justify-content:flex-end}.save-button{padding:5px;border-radius:5px;background-color:#000;color:#fff;font-size:medium}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { kind: "ngmodule", type: FontAwesomeModule }, { kind: "component", type: i3.FaIconComponent, selector: "fa-icon", inputs: ["icon", "title", "animation", "mask", "flip", "size", "pull", "border", "inverse", "symbol", "rotate", "fixedWidth", "transform", "a11yRole"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i4.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i4.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i4.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i4.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.8", ngImport: i0, type: DisplaySettingsModal, decorators: [{
            type: Component,
            args: [{ selector: 'app-display-settings-modal', standalone: true, imports: [CommonModule, FontAwesomeModule, FormsModule], template: "<div *ngIf=\"isDisplaySettingsModalVisible\" class=\"modal-container\">\r\n  <div class=\"modal-content\" [ngStyle]=\"{ 'background-color': backgroundColor }\">\r\n    <div class=\"modal-header\">\r\n      <h2>Display Settings</h2>\r\n      <div class=\"btn-close-media-settings\" (click)=\"onDisplaySettingsClose()\">\r\n        <fa-icon [icon]=\"faTimes\" size=\"xl\"></fa-icon>\r\n      </div>\r\n    </div>\r\n    <hr class=\"modal-divider\" />\r\n    <div class=\"modal-body\">\r\n      <div class=\"setting-group\">\r\n        <label>Display Option:</label>\r\n        <select [(ngModel)]=\"meetingDisplayTypeState\" class=\"select-control\">\r\n          <option value=\"video\">Video Participants Only</option>\r\n          <option value=\"media\">Media Participants Only</option>\r\n          <option value=\"all\">Show All Participants</option>\r\n        </select>\r\n      </div>\r\n      <hr class=\"modal-divider\" />\r\n      <div class=\"setting-group\">\r\n        <div class=\"setting-toggle\">\r\n          <label>Display Audiographs</label>\r\n          <button (click)=\"autoWaveState = !autoWaveState\" [ngClass]=\"{ 'active': autoWaveState }\">\r\n            <span class=\"toggle-icon\">{{ autoWaveState ? '&#10003;' : '&#10007;' }}</span>\r\n          </button>\r\n        </div>\r\n        <hr class=\"modal-divider\" />\r\n        <div class=\"setting-toggle\">\r\n          <label>Force Full Display</label>\r\n          <button (click)=\"forceFullDisplayState = !forceFullDisplayState\" [ngClass]=\"{ 'active': forceFullDisplayState }\">\r\n            <span class=\"toggle-icon\">{{ forceFullDisplayState ? '&#10003;' : '&#10007;' }}</span>\r\n          </button>\r\n        </div>\r\n        <hr class=\"modal-divider\" />\r\n        <div class=\"setting-toggle\">\r\n          <label>Force Video Participants</label>\r\n          <button (click)=\"meetingVideoOptimizedState = !meetingVideoOptimizedState\" [ngClass]=\"{ 'active': meetingVideoOptimizedState }\">\r\n            <span class=\"toggle-icon\">{{ meetingVideoOptimizedState ? '&#10003;' : '&#10007;' }}</span>\r\n          </button>\r\n        </div>\r\n        <hr class=\"modal-divider\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button class=\"save-button\" (click)=\"handleSaveSettings()\">Save</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".modal-container{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:block;z-index:999}.modal-content{position:fixed;border-radius:10px;padding:10px;width:80vw;max-width:350px;max-height:65%;overflow-y:auto;top:10px;right:10px}.modal-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:15px}.modal-divider{height:1px;background-color:#000;margin:5px 0}.modal-body{flex:1}.setting-group{margin-bottom:10px}.setting-toggle{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:10px}.select-control{font-size:medium;padding:12px 30px 12px 10px;border:1px solid gray;border-radius:4px;color:#000;background-color:#fff}.toggle-icon{font-size:large;font-weight:bolder}.active{color:green}.inactive{color:red}.modal-footer{margin-top:10px;display:flex;justify-content:flex-end}.save-button{padding:5px;border-radius:5px;background-color:#000;color:#fff;font-size:medium}\n"] }]
        }], ctorParameters: () => [{ type: i1.ModifyDisplaySettings }], propDecorators: { isDisplaySettingsModalVisible: [{
                type: Input
            }], onDisplaySettingsClose: [{
                type: Input
            }], onModifyDisplaySettings: [{
                type: Input
            }], parameters: [{
                type: Input
            }], position: [{
                type: Input
            }], backgroundColor: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzcGxheS1zZXR0aW5ncy1tb2RhbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tZWRpYXNmdS1hbmd1bGFyL3NyYy9saWIvY29tcG9uZW50cy9kaXNwbGF5LXNldHRpbmdzLWNvbXBvbmVudHMvZGlzcGxheS1zZXR0aW5ncy1tb2RhbC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tZWRpYXNmdS1hbmd1bGFyL3NyYy9saWIvY29tcG9uZW50cy9kaXNwbGF5LXNldHRpbmdzLWNvbXBvbmVudHMvZGlzcGxheS1zZXR0aW5ncy1tb2RhbC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDckUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQzs7Ozs7O0FBeUI1RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBdUNHO0FBU0gsTUFBTSxPQUFPLG9CQUFvQjtJQWVYO0lBZFgsNkJBQTZCLEdBQUcsS0FBSyxDQUFDO0lBQ3RDLHNCQUFzQixDQUFjO0lBQ3BDLHVCQUF1QixDQUF5QjtJQUNoRCxVQUFVLENBQWtDO0lBQzVDLFFBQVEsR0FBRyxVQUFVLENBQUM7SUFDdEIsZUFBZSxHQUFHLFNBQVMsQ0FBQztJQUVyQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBRWxCLHVCQUF1QixDQUFVO0lBQ2pDLGFBQWEsR0FBRyxLQUFLLENBQUM7SUFDdEIscUJBQXFCLEdBQUcsS0FBSyxDQUFDO0lBQzlCLDBCQUEwQixHQUFHLEtBQUssQ0FBQztJQUVuQyxZQUFvQiw0QkFBbUQ7UUFBbkQsaUNBQTRCLEdBQTVCLDRCQUE0QixDQUF1QjtJQUFHLENBQUM7SUFFM0UsUUFBUTtRQUNOLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGtCQUFrQixDQUFDO1FBQ2xFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDOUMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUM7UUFDOUQsSUFBSSxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUM7UUFFeEUsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUMsNEJBQTRCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUN6RixJQUFJLENBQUMsNEJBQTRCLENBQ2xDLENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztJQUVELGtCQUFrQixHQUFHLEtBQUssSUFBSSxFQUFFO1FBQzlCLE1BQU0sSUFBSSxDQUFDLHVCQUF1QixDQUFDO1lBQ2pDLFVBQVUsRUFBRTtnQkFDVixHQUFHLElBQUksQ0FBQyxVQUFVO2dCQUNsQixrQkFBa0IsRUFBRSxJQUFJLENBQUMsdUJBQXVCO2dCQUNoRCxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWE7Z0JBQzVCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxxQkFBcUI7Z0JBQzVDLHFCQUFxQixFQUFFLElBQUksQ0FBQywwQkFBMEI7YUFDdkQ7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDLENBQUM7dUdBeENTLG9CQUFvQjsyRkFBcEIsb0JBQW9CLDRWQzdFakMsNDBFQWdEQSx1aENEeUJZLFlBQVkscVRBQUUsaUJBQWlCLDRQQUFFLFdBQVc7OzJGQUkzQyxvQkFBb0I7a0JBUGhDLFNBQVM7K0JBQ0UsNEJBQTRCLGNBQzFCLElBQUksV0FDUCxDQUFDLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxXQUFXLENBQUM7MEZBSzlDLDZCQUE2QjtzQkFBckMsS0FBSztnQkFDRyxzQkFBc0I7c0JBQTlCLEtBQUs7Z0JBQ0csdUJBQXVCO3NCQUEvQixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEZvbnRBd2Vzb21lTW9kdWxlIH0gZnJvbSAnQGZvcnRhd2Vzb21lL2FuZ3VsYXItZm9udGF3ZXNvbWUnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBmYVRpbWVzIH0gZnJvbSAnQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zJztcbmltcG9ydCB7XG4gIE1vZGlmeURpc3BsYXlTZXR0aW5ncyxcbiAgTW9kaWZ5RGlzcGxheVNldHRpbmdzT3B0aW9ucyxcbiAgTW9kaWZ5RGlzcGxheVNldHRpbmdzUGFyYW1ldGVycyxcbn0gZnJvbSAnLi4vLi4vbWV0aG9kcy9kaXNwbGF5LXNldHRpbmdzLW1ldGhvZHMvbW9kaWZ5LWRpc3BsYXktc2V0dGluZ3Muc2VydmljZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzcGxheVNldHRpbmdzTW9kYWxQYXJhbWV0ZXJzIGV4dGVuZHMgTW9kaWZ5RGlzcGxheVNldHRpbmdzUGFyYW1ldGVycyB7XG4gIG1lZXRpbmdEaXNwbGF5VHlwZTogc3RyaW5nO1xuICBhdXRvV2F2ZTogYm9vbGVhbjtcbiAgZm9yY2VGdWxsRGlzcGxheTogYm9vbGVhbjtcbiAgbWVldGluZ1ZpZGVvT3B0aW1pemVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpc3BsYXlTZXR0aW5nc01vZGFsT3B0aW9ucyB7XG4gIGlzRGlzcGxheVNldHRpbmdzTW9kYWxWaXNpYmxlOiBib29sZWFuO1xuICBvbkRpc3BsYXlTZXR0aW5nc0Nsb3NlOiAoKSA9PiB2b2lkO1xuICBvbk1vZGlmeURpc3BsYXlTZXR0aW5nczogKG9wdGlvbnM6IE1vZGlmeURpc3BsYXlTZXR0aW5nc09wdGlvbnMpID0+IHZvaWQ7XG4gIHBhcmFtZXRlcnM6IERpc3BsYXlTZXR0aW5nc01vZGFsUGFyYW1ldGVycztcbiAgcG9zaXRpb246IHN0cmluZztcbiAgYmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIERpc3BsYXlTZXR0aW5nc01vZGFsVHlwZSA9IChvcHRpb25zOiBEaXNwbGF5U2V0dGluZ3NNb2RhbE9wdGlvbnMpID0+IEhUTUxFbGVtZW50O1xuXG4vKipcbiAqIERpc3BsYXlTZXR0aW5nc01vZGFsIGNvbXBvbmVudCBpcyBhIG1vZGFsIGRpYWxvZyBmb3IgbWFuYWdpbmcgZGlzcGxheSBzZXR0aW5ncyBpbiBhIG1lZXRpbmcuXG4gKlxuICogQGNvbXBvbmVudFxuICogQHNlbGVjdG9yIGFwcC1kaXNwbGF5LXNldHRpbmdzLW1vZGFsXG4gKiBAc3RhbmRhbG9uZSB0cnVlXG4gKiBAaW1wb3J0cyBbQ29tbW9uTW9kdWxlLCBGb250QXdlc29tZU1vZHVsZSwgRm9ybXNNb2R1bGVdXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGh0bWxcbiAqIDxhcHAtZGlzcGxheS1zZXR0aW5ncy1tb2RhbFxuICogICBbaXNEaXNwbGF5U2V0dGluZ3NNb2RhbFZpc2libGVdPVwidHJ1ZVwiXG4gKiAgIFtvbkRpc3BsYXlTZXR0aW5nc0Nsb3NlXT1cImNsb3NlTW9kYWxcIlxuICogICBbb25Nb2RpZnlEaXNwbGF5U2V0dGluZ3NdPVwic2F2ZVNldHRpbmdzXCJcbiAqICAgW3BhcmFtZXRlcnNdPVwiZGlzcGxheVNldHRpbmdzUGFyYW1zXCJcbiAqICAgcG9zaXRpb249XCJ0b3BSaWdodFwiXG4gKiAgIGJhY2tncm91bmRDb2xvcj1cIiM4M2MwZTlcIlxuICogPjwvYXBwLWRpc3BsYXktc2V0dGluZ3MtbW9kYWw+XG4gKiBgYGBcbiAqXG4gKiBAaW5wdXQge2Jvb2xlYW59IGlzRGlzcGxheVNldHRpbmdzTW9kYWxWaXNpYmxlIC0gRGV0ZXJtaW5lcyBpZiB0aGUgbW9kYWwgaXMgdmlzaWJsZS5cbiAqIEBpbnB1dCB7KCkgPT4gdm9pZH0gb25EaXNwbGF5U2V0dGluZ3NDbG9zZSAtIENhbGxiYWNrIHRvIGNsb3NlIHRoZSBtb2RhbC5cbiAqIEBpbnB1dCB7KHBhcmFtczogYW55KSA9PiB2b2lkfSBvbk1vZGlmeURpc3BsYXlTZXR0aW5ncyAtIENhbGxiYWNrIHRvIG1vZGlmeSBkaXNwbGF5IHNldHRpbmdzLlxuICogQGlucHV0IHtEaXNwbGF5U2V0dGluZ3NNb2RhbFBhcmFtZXRlcnN9IHBhcmFtZXRlcnMgLSBJbnB1dCBwYXJhbWV0ZXJzIGZvciBtb2RhbCBzZXR0aW5ncy5cbiAqIEBpbnB1dCB7c3RyaW5nfSBwb3NpdGlvbiAtIE1vZGFsJ3Mgc2NyZWVuIHBvc2l0aW9uLCBkZWZhdWx0IGlzICd0b3BSaWdodCcuXG4gKiBAaW5wdXQge3N0cmluZ30gYmFja2dyb3VuZENvbG9yIC0gQmFja2dyb3VuZCBjb2xvciBvZiB0aGUgbW9kYWwsIGRlZmF1bHQgaXMgJyM4M2MwZTknLlxuICpcbiAqIEBwcm9wZXJ0eSB7SWNvbkRlZmluaXRpb259IGZhVGltZXMgLSBGb250QXdlc29tZSBpY29uIGZvciBjbG9zaW5nIHRoZSBtb2RhbC5cbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVldGluZ0Rpc3BsYXlUeXBlU3RhdGUgLSBTdGF0ZSB2YXJpYWJsZSBmb3IgbWVldGluZyBkaXNwbGF5IHR5cGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1dG9XYXZlU3RhdGUgLSBTdGF0ZSB2YXJpYWJsZSBmb3IgYXV0byB3YXZlIHNldHRpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvcmNlRnVsbERpc3BsYXlTdGF0ZSAtIFN0YXRlIHZhcmlhYmxlIGZvciBmb3JjZSBmdWxsIGRpc3BsYXkgc2V0dGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbWVldGluZ1ZpZGVvT3B0aW1pemVkU3RhdGUgLSBTdGF0ZSB2YXJpYWJsZSBmb3IgdmlkZW8gb3B0aW1pemVkIHNldHRpbmcuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge01vZGlmeURpc3BsYXlTZXR0aW5nc30gbW9kaWZ5RGlzcGxheVNldHRpbmdzU2VydmljZSAtIFNlcnZpY2UgdG8gaGFuZGxlIGRpc3BsYXkgc2V0dGluZ3MgbW9kaWZpY2F0aW9ucy5cbiAqXG4gKiBAbWV0aG9kIG5nT25Jbml0IC0gSW5pdGlhbGl6ZXMgY29tcG9uZW50IHN0YXRlIGJhc2VkIG9uIGlucHV0IHBhcmFtZXRlcnMuXG4gKiBAbWV0aG9kIGhhbmRsZVNhdmVTZXR0aW5ncyAtIFRyaWdnZXJzIHRoZSBtb2RpZmljYXRpb24gb2YgZGlzcGxheSBzZXR0aW5ncyB1c2luZyBgb25Nb2RpZnlEaXNwbGF5U2V0dGluZ3NgLlxuICovXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FwcC1kaXNwbGF5LXNldHRpbmdzLW1vZGFsJyxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgRm9udEF3ZXNvbWVNb2R1bGUsIEZvcm1zTW9kdWxlXSxcbiAgdGVtcGxhdGVVcmw6ICcuL2Rpc3BsYXktc2V0dGluZ3MtbW9kYWwuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9kaXNwbGF5LXNldHRpbmdzLW1vZGFsLmNvbXBvbmVudC5jc3MnXSxcbn0pXG5leHBvcnQgY2xhc3MgRGlzcGxheVNldHRpbmdzTW9kYWwge1xuICBASW5wdXQoKSBpc0Rpc3BsYXlTZXR0aW5nc01vZGFsVmlzaWJsZSA9IGZhbHNlO1xuICBASW5wdXQoKSBvbkRpc3BsYXlTZXR0aW5nc0Nsb3NlITogKCkgPT4gdm9pZDtcbiAgQElucHV0KCkgb25Nb2RpZnlEaXNwbGF5U2V0dGluZ3MhOiAocGFyYW1zOiBhbnkpID0+IHZvaWQ7XG4gIEBJbnB1dCgpIHBhcmFtZXRlcnMhOiBEaXNwbGF5U2V0dGluZ3NNb2RhbFBhcmFtZXRlcnM7XG4gIEBJbnB1dCgpIHBvc2l0aW9uID0gJ3RvcFJpZ2h0JztcbiAgQElucHV0KCkgYmFja2dyb3VuZENvbG9yID0gJyM4M2MwZTknO1xuXG4gIGZhVGltZXMgPSBmYVRpbWVzO1xuXG4gIG1lZXRpbmdEaXNwbGF5VHlwZVN0YXRlITogc3RyaW5nO1xuICBhdXRvV2F2ZVN0YXRlID0gZmFsc2U7XG4gIGZvcmNlRnVsbERpc3BsYXlTdGF0ZSA9IGZhbHNlO1xuICBtZWV0aW5nVmlkZW9PcHRpbWl6ZWRTdGF0ZSA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbW9kaWZ5RGlzcGxheVNldHRpbmdzU2VydmljZTogTW9kaWZ5RGlzcGxheVNldHRpbmdzKSB7fVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMubWVldGluZ0Rpc3BsYXlUeXBlU3RhdGUgPSB0aGlzLnBhcmFtZXRlcnMubWVldGluZ0Rpc3BsYXlUeXBlO1xuICAgIHRoaXMuYXV0b1dhdmVTdGF0ZSA9IHRoaXMucGFyYW1ldGVycy5hdXRvV2F2ZTtcbiAgICB0aGlzLmZvcmNlRnVsbERpc3BsYXlTdGF0ZSA9IHRoaXMucGFyYW1ldGVycy5mb3JjZUZ1bGxEaXNwbGF5O1xuICAgIHRoaXMubWVldGluZ1ZpZGVvT3B0aW1pemVkU3RhdGUgPSB0aGlzLnBhcmFtZXRlcnMubWVldGluZ1ZpZGVvT3B0aW1pemVkO1xuXG4gICAgaWYgKCF0aGlzLm9uTW9kaWZ5RGlzcGxheVNldHRpbmdzKSB7XG4gICAgICB0aGlzLm9uTW9kaWZ5RGlzcGxheVNldHRpbmdzID0gdGhpcy5tb2RpZnlEaXNwbGF5U2V0dGluZ3NTZXJ2aWNlLm1vZGlmeURpc3BsYXlTZXR0aW5ncy5iaW5kKFxuICAgICAgICB0aGlzLm1vZGlmeURpc3BsYXlTZXR0aW5nc1NlcnZpY2UsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVNhdmVTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCB0aGlzLm9uTW9kaWZ5RGlzcGxheVNldHRpbmdzKHtcbiAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgLi4udGhpcy5wYXJhbWV0ZXJzLFxuICAgICAgICBtZWV0aW5nRGlzcGxheVR5cGU6IHRoaXMubWVldGluZ0Rpc3BsYXlUeXBlU3RhdGUsXG4gICAgICAgIGF1dG9XYXZlOiB0aGlzLmF1dG9XYXZlU3RhdGUsXG4gICAgICAgIGZvcmNlRnVsbERpc3BsYXk6IHRoaXMuZm9yY2VGdWxsRGlzcGxheVN0YXRlLFxuICAgICAgICBtZWV0aW5nVmlkZW9PcHRpbWl6ZWQ6IHRoaXMubWVldGluZ1ZpZGVvT3B0aW1pemVkU3RhdGUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xufVxuIiwiPGRpdiAqbmdJZj1cImlzRGlzcGxheVNldHRpbmdzTW9kYWxWaXNpYmxlXCIgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cclxuICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiIFtuZ1N0eWxlXT1cInsgJ2JhY2tncm91bmQtY29sb3InOiBiYWNrZ3JvdW5kQ29sb3IgfVwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICA8aDI+RGlzcGxheSBTZXR0aW5nczwvaDI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJidG4tY2xvc2UtbWVkaWEtc2V0dGluZ3NcIiAoY2xpY2spPVwib25EaXNwbGF5U2V0dGluZ3NDbG9zZSgpXCI+XHJcbiAgICAgICAgPGZhLWljb24gW2ljb25dPVwiZmFUaW1lc1wiIHNpemU9XCJ4bFwiPjwvZmEtaWNvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxociBjbGFzcz1cIm1vZGFsLWRpdmlkZXJcIiAvPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctZ3JvdXBcIj5cclxuICAgICAgICA8bGFiZWw+RGlzcGxheSBPcHRpb246PC9sYWJlbD5cclxuICAgICAgICA8c2VsZWN0IFsobmdNb2RlbCldPVwibWVldGluZ0Rpc3BsYXlUeXBlU3RhdGVcIiBjbGFzcz1cInNlbGVjdC1jb250cm9sXCI+XHJcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidmlkZW9cIj5WaWRlbyBQYXJ0aWNpcGFudHMgT25seTwvb3B0aW9uPlxyXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1lZGlhXCI+TWVkaWEgUGFydGljaXBhbnRzIE9ubHk8L29wdGlvbj5cclxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5TaG93IEFsbCBQYXJ0aWNpcGFudHM8L29wdGlvbj5cclxuICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxociBjbGFzcz1cIm1vZGFsLWRpdmlkZXJcIiAvPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1ncm91cFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLXRvZ2dsZVwiPlxyXG4gICAgICAgICAgPGxhYmVsPkRpc3BsYXkgQXVkaW9ncmFwaHM8L2xhYmVsPlxyXG4gICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwiYXV0b1dhdmVTdGF0ZSA9ICFhdXRvV2F2ZVN0YXRlXCIgW25nQ2xhc3NdPVwieyAnYWN0aXZlJzogYXV0b1dhdmVTdGF0ZSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidG9nZ2xlLWljb25cIj57eyBhdXRvV2F2ZVN0YXRlID8gJyYjMTAwMDM7JyA6ICcmIzEwMDA3OycgfX08L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8aHIgY2xhc3M9XCJtb2RhbC1kaXZpZGVyXCIgLz5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy10b2dnbGVcIj5cclxuICAgICAgICAgIDxsYWJlbD5Gb3JjZSBGdWxsIERpc3BsYXk8L2xhYmVsPlxyXG4gICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwiZm9yY2VGdWxsRGlzcGxheVN0YXRlID0gIWZvcmNlRnVsbERpc3BsYXlTdGF0ZVwiIFtuZ0NsYXNzXT1cInsgJ2FjdGl2ZSc6IGZvcmNlRnVsbERpc3BsYXlTdGF0ZSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidG9nZ2xlLWljb25cIj57eyBmb3JjZUZ1bGxEaXNwbGF5U3RhdGUgPyAnJiMxMDAwMzsnIDogJyYjMTAwMDc7JyB9fTwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxociBjbGFzcz1cIm1vZGFsLWRpdmlkZXJcIiAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLXRvZ2dsZVwiPlxyXG4gICAgICAgICAgPGxhYmVsPkZvcmNlIFZpZGVvIFBhcnRpY2lwYW50czwvbGFiZWw+XHJcbiAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJtZWV0aW5nVmlkZW9PcHRpbWl6ZWRTdGF0ZSA9ICFtZWV0aW5nVmlkZW9PcHRpbWl6ZWRTdGF0ZVwiIFtuZ0NsYXNzXT1cInsgJ2FjdGl2ZSc6IG1lZXRpbmdWaWRlb09wdGltaXplZFN0YXRlIH1cIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0b2dnbGUtaWNvblwiPnt7IG1lZXRpbmdWaWRlb09wdGltaXplZFN0YXRlID8gJyYjMTAwMDM7JyA6ICcmIzEwMDA3OycgfX08L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8aHIgY2xhc3M9XCJtb2RhbC1kaXZpZGVyXCIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cclxuICAgICAgPGJ1dHRvbiBjbGFzcz1cInNhdmUtYnV0dG9uXCIgKGNsaWNrKT1cImhhbmRsZVNhdmVTZXR0aW5ncygpXCI+U2F2ZTwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXX0=